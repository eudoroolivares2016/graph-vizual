{"ast":null,"code":"import _ from 'lodash';\nimport { ACTIONS } from '../constants';\n// https://visjs.github.io/vis-network/docs/network/ vis-network docs\nconst initialState = {\n  nodeLabels: [],\n  queryHistory: [],\n  isPhysicsEnabled: true,\n  nodeLimit: 100,\n  networkOptions: {\n    autoResize: true,\n    // https://visjs.github.io/vis-network/docs/network/physics.html\n    physics: {\n      barnesHut: {\n        gravitationalConstant: -2000,\n        centralGravity: 0.3,\n        springLength: 95,\n        springConstant: 0.04,\n        damping: 0.09,\n        avoidOverlap: 0\n      },\n      maxVelocity: 40,\n      solver: 'barnesHut',\n      timestep: 0.35,\n      stabilization: {\n        enabled: true,\n        iterations: 50,\n        updateInterval: 25\n      }\n    },\n    //https://visjs.github.io/vis-network/docs/network/nodes.html\n    nodes: {\n      shape: \"dot\",\n      size: 20,\n      borderWidth: 2,\n      font: {\n        size: 11\n      }\n    },\n    // https://visjs.github.io/vis-network/docs/network/edges.html\n    edges: {\n      width: 2,\n      font: {\n        size: 11\n      },\n      smooth: {\n        type: 'dynamic'\n      }\n    }\n  }\n};\nexport const reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ACTIONS.SET_IS_PHYSICS_ENABLED:\n      {\n        const isPhysicsEnabled = _.get(action, 'payload', true);\n        return {\n          ...state,\n          isPhysicsEnabled\n        };\n      }\n    case ACTIONS.ADD_QUERY_HISTORY:\n      {\n        return {\n          ...state,\n          queryHistory: [...state.queryHistory, action.payload]\n        };\n      }\n    case ACTIONS.CLEAR_QUERY_HISTORY:\n      {\n        return {\n          ...state,\n          queryHistory: []\n        };\n      }\n    case ACTIONS.SET_NODE_LABELS:\n      {\n        const nodeLabels = _.get(action, 'payload', []);\n        return {\n          ...state,\n          nodeLabels\n        };\n      }\n    case ACTIONS.ADD_NODE_LABEL:\n      {\n        const nodeLabels = [...state.nodeLabels, {}];\n        return {\n          ...state,\n          nodeLabels\n        };\n      }\n    case ACTIONS.EDIT_NODE_LABEL:\n      {\n        const editIndex = action.payload.id;\n        const editedNodeLabel = action.payload.nodeLabel;\n        if (state.nodeLabels[editIndex]) {\n          const nodeLabels = [...state.nodeLabels.slice(0, editIndex), editedNodeLabel, ...state.nodeLabels.slice(editIndex + 1)];\n          return {\n            ...state,\n            nodeLabels\n          };\n        }\n        return state;\n      }\n    case ACTIONS.REMOVE_NODE_LABEL:\n      {\n        const removeIndex = action.payload;\n        if (removeIndex < state.nodeLabels.length) {\n          const nodeLabels = [...state.nodeLabels.slice(0, removeIndex), ...state.nodeLabels.slice(removeIndex + 1)];\n          return {\n            ...state,\n            nodeLabels\n          };\n        }\n        return state;\n      }\n    case ACTIONS.SET_NODE_LIMIT:\n      {\n        const nodeLimit = action.payload;\n        return {\n          ...state,\n          nodeLimit\n        };\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["_","ACTIONS","initialState","nodeLabels","queryHistory","isPhysicsEnabled","nodeLimit","networkOptions","autoResize","physics","barnesHut","gravitationalConstant","centralGravity","springLength","springConstant","damping","avoidOverlap","maxVelocity","solver","timestep","stabilization","enabled","iterations","updateInterval","nodes","shape","size","borderWidth","font","edges","width","smooth","type","reducer","state","action","SET_IS_PHYSICS_ENABLED","get","ADD_QUERY_HISTORY","payload","CLEAR_QUERY_HISTORY","SET_NODE_LABELS","ADD_NODE_LABEL","EDIT_NODE_LABEL","editIndex","id","editedNodeLabel","nodeLabel","slice","REMOVE_NODE_LABEL","removeIndex","length","SET_NODE_LIMIT"],"sources":["/Users/eaolivar/git/gremlin-visualizer/src/reducers/optionReducer.js"],"sourcesContent":["import _ from 'lodash';\nimport { ACTIONS } from '../constants';\n// https://visjs.github.io/vis-network/docs/network/ vis-network docs\nconst initialState = {\n  nodeLabels: [],\n  queryHistory: [],\n  isPhysicsEnabled: true,\n  nodeLimit: 100,\n  networkOptions: {\n    autoResize: true,\n    // https://visjs.github.io/vis-network/docs/network/physics.html\n    physics: {\n      barnesHut: {\n        gravitationalConstant: -2000,\n        centralGravity: 0.3,\n        springLength: 95,\n        springConstant: 0.04,\n        damping: 0.09,\n        avoidOverlap: 0\n      },\n      maxVelocity: 40,\n      solver: 'barnesHut',\n      timestep: 0.35,\n      stabilization: {\n        enabled: true,\n        iterations: 50,\n        updateInterval: 25\n      }\n    },\n    //https://visjs.github.io/vis-network/docs/network/nodes.html\n    nodes: {\n      shape: \"dot\",\n      size: 20,\n      borderWidth: 2,\n      font: {\n        size: 11\n      }\n    },\n    // https://visjs.github.io/vis-network/docs/network/edges.html\n    edges: {\n      width: 2,\n      font: {\n        size: 11\n      },\n      smooth: {\n        type: 'dynamic'\n      }\n    }\n  }\n};\n\nexport const reducer =  (state=initialState, action)=>{\n  switch (action.type){\n    case ACTIONS.SET_IS_PHYSICS_ENABLED: {\n      const isPhysicsEnabled = _.get(action, 'payload', true);\n      return { ...state, isPhysicsEnabled };\n    }\n    case ACTIONS.ADD_QUERY_HISTORY: {\n      return { ...state, queryHistory: [ ...state.queryHistory, action.payload] }\n    }\n    case ACTIONS.CLEAR_QUERY_HISTORY: {\n      return { ...state, queryHistory: [] }\n    }\n    case ACTIONS.SET_NODE_LABELS: {\n      const nodeLabels = _.get(action, 'payload', []);\n      return { ...state, nodeLabels };\n    }\n    case ACTIONS.ADD_NODE_LABEL: {\n      const nodeLabels = [...state.nodeLabels, {}];\n      return { ...state, nodeLabels };\n    }\n    case ACTIONS.EDIT_NODE_LABEL: {\n      const editIndex = action.payload.id;\n      const editedNodeLabel = action.payload.nodeLabel;\n\n      if (state.nodeLabels[editIndex]) {\n        const nodeLabels = [...state.nodeLabels.slice(0, editIndex), editedNodeLabel, ...state.nodeLabels.slice(editIndex+1)];\n        return { ...state, nodeLabels };\n      }\n      return state;\n    }\n    case ACTIONS.REMOVE_NODE_LABEL: {\n      const removeIndex = action.payload;\n      if (removeIndex < state.nodeLabels.length) {\n        const nodeLabels = [...state.nodeLabels.slice(0, removeIndex), ...state.nodeLabels.slice(removeIndex+1)];\n        return { ...state, nodeLabels };\n      }\n      return state;\n    }\n    case ACTIONS.SET_NODE_LIMIT: {\n      const nodeLimit = action.payload;\n      return { ...state, nodeLimit };\n    }\n    default:\n      return state;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}