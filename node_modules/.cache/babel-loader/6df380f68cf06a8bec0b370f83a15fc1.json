{"ast":null,"code":"var _jsxFileName = \"/Users/eaolivar/git/gremlin-visualizer/src/components/NetworkGraph/NetworkGraphComponent.js\";\nimport React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { Network } from 'vis-network';\nimport { ACTIONS } from '../../constants';\nimport { optionsSettings } from './networkOptions';\nfunction NetworkGraph(props) {\n  // componentDidMount() {\n  //   const data = {\n  //     nodes: this.props.nodeHolder,\n  //     edges: this.props.edgeHolder\n  //   };\n\n  //   const network = new vis.Network(this.refs.myRef, data, this.props.networkOptions);\n  //   // If you select the node\n  //   network.on('selectNode', (params) => {\n  //     const nodeId = params.nodes && params.nodes.length > 0 ? params.nodes[0] : null;\n  //     this.props.dispatch({ type: ACTIONS.SET_SELECTED_NODE, payload: nodeId });\n  //   });\n  //   // If you select the edge\n  //   network.on(\"selectEdge\", (params) => {\n  //     const edgeId = params.edges && params.edges.length === 1 ? params.edges[0] : null;\n  //     const isNodeSelected = params.nodes && params.nodes.length > 0;\n  //     if (!isNodeSelected && edgeId !== null) {\n  //       this.props.dispatch({ type: ACTIONS.SET_SELECTED_EDGE, payload: edgeId });\n  //     }\n  //   });\n\n  //   this.props.dispatch({ type: ACTIONS.SET_NETWORK, payload: network });\n  // }\n\n  const container = useRef(null);\n  // If the props change then use these settings default is empty array\n  useEffect(() => {\n    const data = {\n      nodes: props.nodeHolder,\n      edges: props.edgeHolder\n    };\n    const options = props.networkOptions;\n    const network = container.current && new Network(container.current, data, options);\n    network.on('selectNode', params => {\n      const nodeId = params.nodes && params.nodes.length > 0 ? params.nodes[0] : null;\n      props.dispatch({\n        type: ACTIONS.SET_SELECTED_NODE,\n        payload: nodeId\n      });\n    });\n    network.on(\"selectEdge\", params => {\n      const edgeId = params.edges && params.edges.length === 1 ? params.edges[0] : null;\n      const isNodeSelected = params.nodes && params.nodes.length > 0;\n      if (!isNodeSelected && edgeId !== null) {\n        props.dispatch({\n          type: ACTIONS.SET_SELECTED_EDGE,\n          payload: edgeId\n        });\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: container,\n    className: 'mynetwork',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  });\n}\nexport const NetworkGraphComponent = connect(state => {\n  return {\n    nodeHolder: state.graph.nodeHolder,\n    edgeHolder: state.graph.edgeHolder,\n    networkOptions: state.options.networkOptions\n  };\n})(NetworkGraph);","map":{"version":3,"names":["React","useEffect","useRef","connect","Network","ACTIONS","optionsSettings","NetworkGraph","props","container","data","nodes","nodeHolder","edges","edgeHolder","options","networkOptions","network","current","on","params","nodeId","length","dispatch","type","SET_SELECTED_NODE","payload","edgeId","isNodeSelected","SET_SELECTED_EDGE","NetworkGraphComponent","state","graph"],"sources":["/Users/eaolivar/git/gremlin-visualizer/src/components/NetworkGraph/NetworkGraphComponent.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport {connect} from 'react-redux';\nimport { Network } from 'vis-network';\nimport { ACTIONS } from '../../constants';\nimport {optionsSettings} from './networkOptions';\n\nfunction NetworkGraph (props) {\n  // componentDidMount() {\n  //   const data = {\n  //     nodes: this.props.nodeHolder,\n  //     edges: this.props.edgeHolder\n  //   };\n    \n  //   const network = new vis.Network(this.refs.myRef, data, this.props.networkOptions);\n  //   // If you select the node\n  //   network.on('selectNode', (params) => {\n  //     const nodeId = params.nodes && params.nodes.length > 0 ? params.nodes[0] : null;\n  //     this.props.dispatch({ type: ACTIONS.SET_SELECTED_NODE, payload: nodeId });\n  //   });\n  //   // If you select the edge\n  //   network.on(\"selectEdge\", (params) => {\n  //     const edgeId = params.edges && params.edges.length === 1 ? params.edges[0] : null;\n  //     const isNodeSelected = params.nodes && params.nodes.length > 0;\n  //     if (!isNodeSelected && edgeId !== null) {\n  //       this.props.dispatch({ type: ACTIONS.SET_SELECTED_EDGE, payload: edgeId });\n  //     }\n  //   });\n\n  //   this.props.dispatch({ type: ACTIONS.SET_NETWORK, payload: network });\n  // }\n\n  \n  const container = useRef(null);\n  // If the props change then use these settings default is empty array\n  useEffect(() => {\n    const data = {\n          nodes: props.nodeHolder,\n          edges: props.edgeHolder\n        };\n        const options = props.networkOptions\n    const network =\n      container.current &&\n      new Network(container.current, data, options);\n      network.on('selectNode', (params) => {\n          const nodeId = params.nodes && params.nodes.length > 0 ? params.nodes[0] : null;\n          props.dispatch({ type: ACTIONS.SET_SELECTED_NODE, payload: nodeId });\n          });\n      network.on(\"selectEdge\", (params) => {\n        const edgeId = params.edges && params.edges.length === 1 ? params.edges[0] : null;\n        const isNodeSelected = params.nodes && params.nodes.length > 0;\n        if (!isNodeSelected && edgeId !== null) {\n          props.dispatch({ type: ACTIONS.SET_SELECTED_EDGE, payload: edgeId });\n        }\n  }); }, []);\n\n    return (<div ref={container} className={'mynetwork'} />);\n  \n}\n\nexport const NetworkGraphComponent = connect((state)=>{\n  return {\n    nodeHolder: state.graph.nodeHolder,\n    edgeHolder: state.graph.edgeHolder,\n    networkOptions: state.options.networkOptions\n  };\n})(NetworkGraph);"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAAQC,OAAO,QAAO,aAAa;AACnC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAAQC,eAAe,QAAO,kBAAkB;AAEhD,SAASC,YAAY,CAAEC,KAAK,EAAE;EAC5B;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAGA,MAAMC,SAAS,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC9B;EACAD,SAAS,CAAC,MAAM;IACd,MAAMS,IAAI,GAAG;MACPC,KAAK,EAAEH,KAAK,CAACI,UAAU;MACvBC,KAAK,EAAEL,KAAK,CAACM;IACf,CAAC;IACD,MAAMC,OAAO,GAAGP,KAAK,CAACQ,cAAc;IACxC,MAAMC,OAAO,GACXR,SAAS,CAACS,OAAO,IACjB,IAAId,OAAO,CAACK,SAAS,CAACS,OAAO,EAAER,IAAI,EAAEK,OAAO,CAAC;IAC7CE,OAAO,CAACE,EAAE,CAAC,YAAY,EAAGC,MAAM,IAAK;MACjC,MAAMC,MAAM,GAAGD,MAAM,CAACT,KAAK,IAAIS,MAAM,CAACT,KAAK,CAACW,MAAM,GAAG,CAAC,GAAGF,MAAM,CAACT,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;MAC/EH,KAAK,CAACe,QAAQ,CAAC;QAAEC,IAAI,EAAEnB,OAAO,CAACoB,iBAAiB;QAAEC,OAAO,EAAEL;MAAO,CAAC,CAAC;IACpE,CAAC,CAAC;IACNJ,OAAO,CAACE,EAAE,CAAC,YAAY,EAAGC,MAAM,IAAK;MACnC,MAAMO,MAAM,GAAGP,MAAM,CAACP,KAAK,IAAIO,MAAM,CAACP,KAAK,CAACS,MAAM,KAAK,CAAC,GAAGF,MAAM,CAACP,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;MACjF,MAAMe,cAAc,GAAGR,MAAM,CAACT,KAAK,IAAIS,MAAM,CAACT,KAAK,CAACW,MAAM,GAAG,CAAC;MAC9D,IAAI,CAACM,cAAc,IAAID,MAAM,KAAK,IAAI,EAAE;QACtCnB,KAAK,CAACe,QAAQ,CAAC;UAAEC,IAAI,EAAEnB,OAAO,CAACwB,iBAAiB;UAAEH,OAAO,EAAEC;QAAO,CAAC,CAAC;MACtE;IACN,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EAER,oBAAQ;IAAK,GAAG,EAAElB,SAAU;IAAC,SAAS,EAAE,WAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG;AAE3D;AAEA,OAAO,MAAMqB,qBAAqB,GAAG3B,OAAO,CAAE4B,KAAK,IAAG;EACpD,OAAO;IACLnB,UAAU,EAAEmB,KAAK,CAACC,KAAK,CAACpB,UAAU;IAClCE,UAAU,EAAEiB,KAAK,CAACC,KAAK,CAAClB,UAAU;IAClCE,cAAc,EAAEe,KAAK,CAAChB,OAAO,CAACC;EAChC,CAAC;AACH,CAAC,CAAC,CAACT,YAAY,CAAC"},"metadata":{},"sourceType":"module"}